# Apache Configuration for EA CRM
# Place this in your Apache virtual host configuration

<VirtualHost *:80>
    ServerName crm.eaincorp.com
    ServerAlias www.crm.eaincorp.com
    DocumentRoot /home/u539052962/domains/eaincorp.com/public_html/crm
    
    # Enable .htaccess
    <Directory /home/u539052962/domains/eaincorp.com/public_html/crm>
        AllowOverride All
        Require all granted
    </Directory>
    
    # WSGI Configuration
    WSGIDaemonProcess crm python-path=/home/u539052962/domains/eaincorp.com/public_html/crm
    WSGIProcessGroup crm
    WSGIScriptAlias / /home/u539052962/domains/eaincorp.com/public_html/crm/wsgi.py
    
    # Static files
    Alias /static /home/u539052962/domains/eaincorp.com/public_html/crm/app/static
    <Directory /home/u539052962/domains/eaincorp.com/public_html/crm/app/static>
        Require all granted
    </Directory>
    
    # Logs
    ErrorLog ${APACHE_LOG_DIR}/crm_error.log
    CustomLog ${APACHE_LOG_DIR}/crm_access.log combined
    
    # Security headers
    Header always set X-Content-Type-Options nosniff
    Header always set X-Frame-Options DENY
    Header always set X-XSS-Protection "1; mode=block"
    Header always set Strict-Transport-Security "max-age=31536000; includeSubDomains"
</VirtualHost>

# HTTPS Configuration (if SSL is available)
<VirtualHost *:443>
    ServerName crm.eaincorp.com
    ServerAlias www.crm.eaincorp.com
    DocumentRoot /home/u539052962/domains/eaincorp.com/public_html/crm
    
    # SSL Configuration (adjust paths as needed)
    SSLEngine on
    SSLCertificateFile /path/to/your/certificate.crt
    SSLCertificateKeyFile /path/to/your/private.key
    SSLCertificateChainFile /path/to/your/chain.crt
    
    # Same configuration as HTTP
    <Directory /home/u539052962/domains/eaincorp.com/public_html/crm>
        AllowOverride All
        Require all granted
    </Directory>
    
    WSGIDaemonProcess crm python-path=/home/u539052962/domains/eaincorp.com/public_html/crm
    WSGIProcessGroup crm
    WSGIScriptAlias / /home/u539052962/domains/eaincorp.com/public_html/crm/wsgi.py
    
    Alias /static /home/u539052962/domains/eaincorp.com/public_html/crm/app/static
    <Directory /home/u539052962/domains/eaincorp.com/public_html/crm/app/static>
        Require all granted
    </Directory>
    
    ErrorLog ${APACHE_LOG_DIR}/crm_error.log
    CustomLog ${APACHE_LOG_DIR}/crm_access.log combined
    
    Header always set X-Content-Type-Options nosniff
    Header always set X-Frame-Options DENY
    Header always set X-XSS-Protection "1; mode=block"
    Header always set Strict-Transport-Security "max-age=31536000; includeSubDomains"
</VirtualHost> 