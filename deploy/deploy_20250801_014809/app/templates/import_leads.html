{% extends 'base.html' %}
{% block title %}Import Leads{% endblock %}
{% block content %}
<div class="container mt-4">
  <h2>Import Leads (CSV or Excel)</h2>
  <form method="post" enctype="multipart/form-data" class="mt-4">
    <!-- <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"> -->
    <div class="mb-3">
      <label for="file" class="form-label">Select CSV or Excel file</label>
      <input type="file" class="form-control" id="file" name="file" accept=".csv,.xlsx,.xls" required>
    </div>
    <button type="submit" class="btn btn-primary">Import</button>
    <a href="{{ url_for('main.dashboard') }}" class="btn btn-secondary ms-2">Cancel</a>
  </form>
  <div class="mt-4">
    <h5>Instructions:</h5>
    <ul>
      <li>Accepted formats: <b>.csv, .xlsx, .xls</b></li>
      <li>Required columns: <b>company_name, company_website, country, industry, status</b></li>
      <li>Optional columns: state, source, notes, followup_date, timezone, created_at, updated_at</li>
      <li><a href="/static/sample_leads_import.csv" download>Download sample CSV template</a></li>
    </ul>
  </div>
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      <div class="mt-3">
        {% for category, message in messages %}
          <div class="alert alert-{{ category }}">{{ message }}</div>
        {% endfor %}
      </div>
    {% endif %}
  {% endwith %}
</div>
{% endblock %} 